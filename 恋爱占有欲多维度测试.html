<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ‹çˆ±å æœ‰æ¬²å¤šç»´åº¦æµ‹è¯•</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #ffeef8 0%, #ffd4e5 50%, #ffb3d9 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(255, 182, 193, 0.3);
            padding: 40px;
            max-width: 600px;
            width: 100%;
            text-align: center;
        }

        .header {
            margin-bottom: 30px;
        }

        .title {
            font-size: 28px;
            font-weight: 700;
            color: #d63384;
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 16px;
            color: #718096;
            margin-bottom: 20px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #ffe4e6;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 30px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff9ab7, #ff6b9d);
            transition: width 0.3s ease;
            border-radius: 4px;
        }

        .question-container {
            margin-bottom: 30px;
        }

        .question-number {
            font-size: 14px;
            color: #ff9ab7;
            margin-bottom: 10px;
        }

        .question-text {
            font-size: 20px;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 25px;
            line-height: 1.4;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option {
            display: flex;
            align-items: center;
            padding: 15px 20px;
            border: 2px solid #ffe4e6;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            background: #fff5f7;
        }

        .option:hover {
            border-color: #ff9ab7;
            background: #ffe4e6;
        }

        .option.selected {
            border-color: #ff6b9d;
            background: #ffe4e6;
        }

        .option input[type="radio"] {
            margin-right: 15px;
            transform: scale(1.2);
            accent-color: #ff6b9d;
        }

        .option label {
            font-size: 16px;
            color: #4a5568;
            cursor: pointer;
            flex: 1;
            text-align: left;
        }

        .button {
            background: linear-gradient(135deg, #ff9ab7 0%, #ff6b9d 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s ease;
            margin: 10px;
        }

        .button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 107, 157, 0.3);
        }

        .button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .result-container {
            display: none;
            text-align: left;
        }

        .result-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .total-score {
            font-size: 48px;
            font-weight: 700;
            color: #ff6b9d;
            margin-bottom: 10px;
        }

        .score-level {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 15px;
        }

        .personality-tag {
            background: linear-gradient(135deg, #ff9ab7 0%, #ff6b9d 100%);
            color: white;
            padding: 25px;
            border-radius: 16px;
            margin: 20px 0;
            text-align: center;
            box-shadow: 0 10px 30px rgba(255, 107, 157, 0.3);
        }

        .tag-name {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .tag-description {
            font-size: 16px;
            opacity: 0.95;
            line-height: 1.5;
        }

        .radar-container {
            background: #fff5f7;
            border-radius: 16px;
            padding: 30px;
            margin: 30px 0;
            text-align: center;
        }

        .radar-title {
            font-size: 20px;
            font-weight: 600;
            color: #d63384;
            margin-bottom: 20px;
        }

        .dimension-cards {
            display: grid;
            gap: 20px;
            margin-top: 30px;
        }

        .dimension-card {
            padding: 20px;
            background: #fff5f7;
            border-radius: 12px;
            border-left: 4px solid;
            transition: transform 0.2s ease;
        }

        .dimension-card:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(255, 182, 193, 0.2);
        }

        .dimension-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .dimension-name {
            font-size: 18px;
            font-weight: 600;
            color: #2d3748;
        }

        .dimension-description {
            font-size: 12px;
            color: #718096;
            margin-top: 4px;
        }

        .dimension-score {
            text-align: right;
        }

        .score-number {
            font-size: 28px;
            font-weight: 700;
        }

        .score-level-text {
            font-size: 12px;
            color: #718096;
        }

        .progress-bar-dimension {
            width: 100%;
            height: 8px;
            background: #ffe4e6;
            border-radius: 4px;
            overflow: hidden;
            margin: 15px 0;
        }

        .progress-fill-dimension {
            height: 100%;
            transition: width 1s ease;
            border-radius: 4px;
        }

        .dimension-advice {
            font-size: 14px;
            color: #4a5568;
            line-height: 1.6;
        }

        .action-guide {
            margin-top: 40px;
        }

        .guide-section {
            background: #fff5f7;
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 25px;
            border-left: 5px solid;
        }

        .guide-section.self {
            border-left-color: #ff6b9d;
        }

        .guide-section.partner {
            border-left-color: #ff9ab7;
        }

        .guide-section.relationship {
            border-left-color: #ffb3d9;
        }

        .guide-title {
            font-size: 20px;
            font-weight: 600;
            color: #d63384;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .guide-content {
            font-size: 15px;
            color: #4a5568;
            line-height: 1.7;
        }

        .guide-list {
            list-style: none;
            padding: 0;
        }

        .guide-list li {
            padding: 8px 0;
            padding-left: 20px;
            position: relative;
        }

        .guide-list li:before {
            content: "â€¢";
            color: #ff6b9d;
            font-weight: bold;
            position: absolute;
            left: 0;
        }

        .restart-btn {
            background: linear-gradient(135deg, #ffb3d9 0%, #ff9ab7 100%);
            margin-top: 30px;
        }

        .feature-box {
            background: #fff5f7;
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            border: 2px solid #ffe4e6;
        }

        .feature-title {
            color: #d63384;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .feature-list {
            text-align: left;
            color: #4a5568;
        }

        .feature-list p {
            margin: 8px 0;
            padding-left: 10px;
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
                margin: 10px;
            }
            
            .title {
                font-size: 24px;
            }
            
            .question-text {
                font-size: 18px;
            }

            .tag-name {
                font-size: 24px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- å¼€å§‹é¡µé¢ -->
        <div id="start-page">
            <div class="header">
                <h1 class="title">ğŸ’• æ‹çˆ±å æœ‰æ¬²å¤šç»´åº¦æµ‹è¯•</h1>
                <p class="subtitle">æ·±åº¦äº†è§£ä½ çš„æƒ…æ„Ÿæ¨¡å¼ï¼Œè·å¾—ä¸“ä¸šçš„å…³ç³»æŒ‡å¯¼</p>
                <div class="feature-box">
                    <h3 class="feature-title">ğŸ¯ æµ‹è¯•ç‰¹è‰²</h3>
                    <div class="feature-list">
                        <p>âœ¨ 5å¤§ç»´åº¦ä¸“ä¸šåˆ†æï¼šä¸å®‰å…¨æ„Ÿã€æ§åˆ¶æ¬²ã€å«‰å¦’å¿ƒã€ä¾èµ–æ€§ã€æ’ä»–æ€§</p>
                        <p>ğŸ·ï¸ ä¸“å±äººæ ¼æ ‡ç­¾è¯†åˆ«ï¼ˆ12ç§ç²¾å‡†æ ‡ç­¾ï¼‰</p>
                        <p>ğŸ“Š å¯è§†åŒ–é›·è¾¾å›¾å±•ç¤º</p>
                        <p>ğŸ’¡ ä¸‰ç»´è¡ŒåŠ¨æŒ‡å—ï¼ˆè‡ªæˆ‘/ä¼´ä¾£/å…³ç³»ï¼‰</p>
                        <p>ğŸ”¬ åŸºäºå¿ƒç†å­¦ç†è®ºè®¾è®¡</p>
                    </div>
                </div>
            </div>
            <button class="button" onclick="startTest()">å¼€å§‹æµ‹è¯•</button>
        </div>

        <!-- æµ‹è¯•é¡µé¢ -->
        <div id="test-page" style="display: none;">
            <div class="progress-bar">
                <div class="progress-fill" id="progress"></div>
            </div>
            
            <div class="question-container">
                <div class="question-number" id="question-number"></div>
                <div class="question-text" id="question-text"></div>
                
                <div class="options" id="options-container"></div>
            </div>
            
            <div style="margin-top: 30px;">
                <button class="button" id="prev-btn" onclick="previousQuestion()" disabled>ä¸Šä¸€é¢˜</button>
                <button class="button" id="next-btn" onclick="nextQuestion()" disabled>ä¸‹ä¸€é¢˜</button>
                <button class="button" id="submit-btn" onclick="submitTest()" style="display: none;">æŸ¥çœ‹ç»“æœ</button>
            </div>
        </div>

        <!-- ç»“æœé¡µé¢ -->
        <div id="result-page" class="result-container">
            <div class="result-header">
                <h2 class="title">ğŸ‰ ä½ çš„æµ‹è¯•ç»“æœ</h2>
                <div class="total-score" id="total-score"></div>
                <div class="score-level" id="score-level"></div>
            </div>

            <!-- äººæ ¼æ ‡ç­¾ -->
            <div class="personality-tag" id="personality-tag">
                <div class="tag-name" id="tag-name"></div>
                <div class="tag-description" id="tag-description"></div>
            </div>

            <div class="radar-container">
                <h3 class="radar-title">ğŸ’ å æœ‰æ¬²é›·è¾¾å›¾</h3>
                <canvas id="radarChart" width="400" height="400"></canvas>
            </div>

            <div>
                <h3 style="font-size: 20px; font-weight: 600; color: #d63384; margin-bottom: 20px;">ğŸ“Š ç»´åº¦è¯¦ç»†åˆ†æ</h3>
                <div class="dimension-cards" id="dimension-cards"></div>
            </div>

            <!-- è¡ŒåŠ¨æŒ‡å— -->
            <div class="action-guide" id="action-guide">
                <h3 style="font-size: 24px; font-weight: 600; color: #d63384; margin-bottom: 25px; text-align: center;">ğŸ¯ ä¸“å±è¡ŒåŠ¨æŒ‡å—</h3>
                
                <div class="guide-section self">
                    <div class="guide-title">
                        <span>ğŸ§ </span>
                        <span>ç»™ä½ çš„å¿ƒç†è°ƒé€‚å»ºè®®</span>
                    </div>
                    <div class="guide-content" id="self-guide"></div>
                </div>

                <div class="guide-section partner">
                    <div class="guide-title">
                        <span>ğŸ’</span>
                        <span>ç»™ä½ ä¼´ä¾£çš„ç›¸å¤„æŒ‡å—</span>
                    </div>
                    <div class="guide-content" id="partner-guide"></div>
                </div>

                <div class="guide-section relationship">
                    <div class="guide-title">
                        <span>âš ï¸</span>
                        <span>å…³ç³»é£é™©é¢„è­¦ä¸å»ºè®®</span>
                    </div>
                    <div class="guide-content" id="relationship-guide"></div>
                </div>
            </div>

            <button class="button restart-btn" onclick="restartTest()">é‡æ–°æµ‹è¯•</button>
        </div>
    </div>

    <script>
        // é¢˜ç›®åº“å’Œç»´åº¦é…ç½®
        const dimensions = {
            insecurity: { name: 'ä¸å®‰å…¨æ„Ÿ', color: '#FF6B9D', description: 'å¯¹å…³ç³»ç¨³å®šæ€§çš„æ‹…å¿§ç¨‹åº¦' },
            control: { name: 'æ§åˆ¶æ¬²', color: '#C44569', description: 'å¯¹ä¼´ä¾£è¡Œä¸ºçš„æŒæ§éœ€æ±‚' },
            jealousy: { name: 'å«‰å¦’å¿ƒ', color: '#F8B500', description: 'å¯¹å¼‚æ€§æ¥è§¦çš„æ•æ„Ÿåº¦' },
            dependency: { name: 'ä¾èµ–æ€§', color: '#4ECDC4', description: 'å¯¹ä¼´ä¾£çš„æƒ…æ„Ÿä¾èµ–ç¨‹åº¦' },
            possessiveness: { name: 'æ’ä»–æ€§', color: '#95E1D3', description: 'å¸Œæœ›ç‹¬å ä¼´ä¾£çš„ç¨‹åº¦' }
        };

        const questionBank = [
            { text: "æˆ‘éœ€è¦ä¸æ–­ç¡®è®¤ä¼´ä¾£æ˜¯å¦è¿˜çˆ±æˆ‘", dimension: "insecurity", weight: 1.0 },
            { text: "æˆ‘ä¼šé¢‘ç¹æŸ¥çœ‹ä¼´ä¾£çš„æ‰‹æœºæ¶ˆæ¯", dimension: "control", weight: 1.2 },
            { text: "ä¼´ä¾£å’Œå¼‚æ€§æœ‹å‹èŠå¤©ä¼šè®©æˆ‘æ„Ÿåˆ°ä¸å®‰", dimension: "jealousy", weight: 1.0 },
            { text: "æˆ‘å¸Œæœ›ä¼´ä¾£çš„æ‰€æœ‰æ—¶é—´éƒ½åªå±äºæˆ‘", dimension: "dependency", weight: 1.1 },
            { text: "ä¼´ä¾£æ™šå½’æ—¶æˆ‘ä¼šä¸æ–­è¿½é—®åŸå› ", dimension: "control", weight: 1.0 },
            { text: "æˆ‘ä¼šé™åˆ¶ä¼´ä¾£å‚åŠ æœ‰å¼‚æ€§çš„ç¤¾äº¤æ´»åŠ¨", dimension: "possessiveness", weight: 1.2 },
            { text: "æˆ‘éœ€è¦çŸ¥é“ä¼´ä¾£çš„æ‰€æœ‰è¡Œè¸ª", dimension: "control", weight: 1.3 },
            { text: "ä¼´ä¾£å’Œåˆ«äººï¼ˆå°¤å…¶æ˜¯å¼‚æ€§ï¼‰äº’åŠ¨æ—¶æˆ‘ä¼šå«‰å¦’", dimension: "jealousy", weight: 1.1 },
            { text: "æˆ‘ä¸å–œæ¬¢ä¼´ä¾£æœ‰é™¤æˆ‘ä¹‹å¤–çš„äº²å¯†æœ‹å‹", dimension: "possessiveness", weight: 1.0 },
            { text: "æˆ‘ä¼šå› ä¸ºä¼´ä¾£å’Œåˆ«äººèŠå¤©è€Œæ„Ÿåˆ°è¢«å¿½è§†", dimension: "insecurity", weight: 1.0 },
            { text: "æˆ‘å¸Œæœ›ä¼´ä¾£çš„ç¤¾äº¤åœˆå®Œå…¨åœ¨æˆ‘çš„æŒæ§ä¸­", dimension: "control", weight: 1.4 },
            { text: "ä¼´ä¾£å¯¹åˆ«äººï¼ˆå°¤å…¶æ˜¯å¼‚æ€§ï¼‰å¥½ä¼šè®©æˆ‘ä¸å¼€å¿ƒ", dimension: "jealousy", weight: 1.0 },
            { text: "æˆ‘ä¼šå› ä¸ºä¼´ä¾£æ²¡åŠæ—¶å›æ¶ˆæ¯è€Œç„¦è™‘", dimension: "insecurity", weight: 0.9 },
            { text: "æˆ‘ä¸å…è®¸ä¼´ä¾£æœ‰ç§˜å¯†ç’ç€æˆ‘", dimension: "control", weight: 1.2 },
            { text: "æˆ‘ä¼šå› ä¸ºä¼´ä¾£å’Œæœ‹å‹å‡ºå»ç©è€Œæ„Ÿåˆ°ä¸æ»¡", dimension: "dependency", weight: 1.0 },
            { text: "æˆ‘å¸Œæœ›ä¼´ä¾£æŠŠæˆ‘æ”¾åœ¨æ‰€æœ‰äº‹æƒ…çš„ç¬¬ä¸€ä½", dimension: "dependency", weight: 1.1 },
            { text: "æˆ‘ä¼šæ£€æŸ¥ä¼´ä¾£çš„æ¶ˆè´¹è®°å½•æˆ–ç¤¾äº¤å¹³å°", dimension: "control", weight: 1.3 },
            { text: "ä¼´ä¾£å’Œå‰ä»»æœ‰è”ç³»ä¼šè®©æˆ‘æ— æ³•æ¥å—", dimension: "jealousy", weight: 1.2 },
            { text: "æˆ‘ä¼šå› ä¸ºä¼´ä¾£å’ŒåŒäº‹èµ°å¾—è¿‘è€ŒçŒœç–‘", dimension: "jealousy", weight: 1.0 },
            { text: "æˆ‘éœ€è¦ä¼´ä¾£æ—¶åˆ»å‘æˆ‘æŠ¥å¤‡åŠ¨æ€", dimension: "control", weight: 1.2 },
            { text: "æˆ‘ä¸å–œæ¬¢ä¼´ä¾£æœ‰è‡ªå·±çš„ç§äººç©ºé—´", dimension: "possessiveness", weight: 1.2 },
            { text: "ä¼´ä¾£å¤¸å¥–åˆ«äººä¼šè®©æˆ‘è§‰å¾—ä»–/å¥¹å¯¹æˆ‘ä¸å¤Ÿä¸“æ³¨", dimension: "insecurity", weight: 0.9 },
            { text: "æˆ‘ä¼šå› ä¸ºä¼´ä¾£å’Œæœ‹å‹èšä¼šè€Œæ„Ÿåˆ°è¢«å†·è½", dimension: "insecurity", weight: 1.0 },
            { text: "æˆ‘å¸Œæœ›ä¼´ä¾£çš„ç”Ÿæ´»é‡å¿ƒå®Œå…¨å›´ç»•æˆ‘", dimension: "dependency", weight: 1.3 },
            { text: "æˆ‘ä¼šå› ä¸ºä¼´ä¾£æ²¡ä¼˜å…ˆå›å¤æˆ‘è€Œç”Ÿæ°”", dimension: "insecurity", weight: 0.9 },
            { text: "æˆ‘ä¸å…è®¸ä¼´ä¾£å’Œæˆ‘ä¸è®¤è¯†çš„äººè¿‡å¤šæ¥è§¦", dimension: "control", weight: 1.2 },
            { text: "æˆ‘ä¼šå› ä¸ºä¼´ä¾£å’Œåˆ«äººåˆ†äº«å¿ƒäº‹è€Œæ„Ÿåˆ°å«‰å¦’", dimension: "jealousy", weight: 1.0 },
            { text: "æˆ‘éœ€è¦ä¼´ä¾£åœ¨ä»»ä½•æ—¶å€™éƒ½èƒ½ç«‹å³å›åº”æˆ‘", dimension: "dependency", weight: 1.1 },
            { text: "æˆ‘ä¼šé™åˆ¶ä¼´ä¾£çš„ä¸šä½™çˆ±å¥½ï¼ˆå¦‚æœéœ€è¦èŠ±æ—¶é—´ç‹¬å¤„ï¼‰", dimension: "control", weight: 1.3 },
            { text: "ä¼´ä¾£å’Œå¼‚æ€§åŒäº‹åŠ ç­ä¼šè®©æˆ‘èƒ¡æ€ä¹±æƒ³", dimension: "jealousy", weight: 1.1 },
            { text: "æˆ‘å¸Œæœ›ä¼´ä¾£çš„æœ‹å‹åœˆé‡Œåªæœ‰æˆ‘ä»¬çš„åˆç…§", dimension: "possessiveness", weight: 1.0 },
            { text: "æˆ‘ä¼šå› ä¸ºä¼´ä¾£å…³æ³¨å…¶ä»–å¼‚æ€§çš„ç¤¾äº¤åª’ä½“è€Œä¸å¿«", dimension: "jealousy", weight: 1.0 },
            { text: "æˆ‘ä¸å–œæ¬¢ä¼´ä¾£æœ‰è‡ªå·±çš„ç¤¾äº¤åœˆ", dimension: "possessiveness", weight: 1.3 },
            { text: "ä¼´ä¾£å’Œæœ‹å‹å‡ºå»æ—…æ¸¸æˆ‘ä¼šæ„Ÿåˆ°ä¸å®‰", dimension: "insecurity", weight: 1.0 },
            { text: "æˆ‘éœ€è¦ä¼´ä¾£æŠŠæ‰€æœ‰å¯†ç éƒ½å‘Šè¯‰æˆ‘", dimension: "control", weight: 1.4 },
            { text: "æˆ‘ä¼šå› ä¸ºä¼´ä¾£å’Œåˆ«äººå¼€ç©ç¬‘è€Œè§‰å¾—ä»–/å¥¹ä¸å¤Ÿè®¤çœŸ", dimension: "insecurity", weight: 0.8 },
            { text: "æˆ‘å¸Œæœ›ä¼´ä¾£çš„æ‰€æœ‰å†³å®šéƒ½å’Œæˆ‘å•†é‡", dimension: "control", weight: 1.2 },
            { text: "æˆ‘ä¼šå› ä¸ºä¼´ä¾£å’Œåˆ«äººï¼ˆå°¤å…¶æ˜¯å¼‚æ€§ï¼‰åƒé¥­è€Œè¿½é—®ç»†èŠ‚", dimension: "jealousy", weight: 1.1 },
            { text: "æˆ‘ä¸å…è®¸ä¼´ä¾£å•ç‹¬å’Œå¼‚æ€§æœ‹å‹è§é¢", dimension: "possessiveness", weight: 1.4 },
            { text: "æˆ‘ä¼šå› ä¸ºä¼´ä¾£å¯¹åˆ«äººï¼ˆå°¤å…¶æ˜¯å¼‚æ€§ï¼‰å¾®ç¬‘è€Œæ„Ÿåˆ°ä¸èˆ’æœ", dimension: "jealousy", weight: 1.2 },
            { text: "æˆ‘éœ€è¦ä¼´ä¾£åœ¨æˆ‘éœ€è¦çš„æ—¶å€™éšæ—¶å‡ºç°", dimension: "dependency", weight: 1.2 },
            { text: "æˆ‘ä¼šé™åˆ¶ä¼´ä¾£çš„å·¥ä½œåº”é…¬ï¼ˆå¦‚æœæœ‰å¼‚æ€§å‚ä¸ï¼‰", dimension: "control", weight: 1.3 },
            { text: "ä¼´ä¾£å’Œå¼‚æ€§åŒå­¦è”ç³»ä¼šè®©æˆ‘äº§ç”Ÿæ€€ç–‘", dimension: "jealousy", weight: 1.0 },
            { text: "æˆ‘å¸Œæœ›ä¼´ä¾£çš„ç”Ÿæ´»é‡Œåªæœ‰æˆ‘ä¸€ä¸ªé‡è¦çš„äºº", dimension: "possessiveness", weight: 1.4 },
            { text: "æˆ‘ä¼šå› ä¸ºä¼´ä¾£æ²¡æŠŠæˆ‘ä»‹ç»ç»™ä»–/å¥¹çš„æ‰€æœ‰æœ‹å‹è€Œä¸æ»¡", dimension: "insecurity", weight: 0.9 },
            { text: "æˆ‘ä¸å–œæ¬¢ä¼´ä¾£æœ‰é™¤äº†æˆ‘ä¹‹å¤–çš„å€¾è¯‰å¯¹è±¡", dimension: "possessiveness", weight: 1.2 },
            { text: "ä¼´ä¾£å‚åŠ å…¬å¸å›¢å»ºï¼ˆæœ‰å¼‚æ€§ï¼‰æˆ‘ä¼šåå¤å®å˜±", dimension: "control", weight: 1.1 },
            { text: "æˆ‘éœ€è¦ä¼´ä¾£æ—¶åˆ»è¡¨è¾¾å¯¹æˆ‘çš„çˆ±æ„", dimension: "insecurity", weight: 1.1 },
            { text: "æˆ‘ä¼šå› ä¸ºä¼´ä¾£å’Œåˆ«äººï¼ˆå°¤å…¶æ˜¯å¼‚æ€§ï¼‰æœ‰å…±åŒå…´è¶£è€Œæ„Ÿåˆ°å¨èƒ", dimension: "jealousy", weight: 1.0 },
            { text: "å½“ä¼´ä¾£æ²¡æœ‰ç¬¬ä¸€æ—¶é—´å›å¤æˆ‘æ—¶ï¼Œæˆ‘ä¼šæ„Ÿåˆ°è¢«å¿½è§†", dimension: "insecurity", weight: 0.9 }
        ];

        // äººæ ¼æ ‡ç­¾é…ç½®
        const personalityTags = [
            {
                conditions: (levels) => levels.insecurity === 'high' && levels.dependency === 'high',
                tag: "ç„¦è™‘ä¾æ‹å‹",
                description: "ä½ å®¹æ˜“æ‹…å¿ƒä¼´ä¾£æ˜¯å¦çˆ±ä½ ï¼Œæƒ…æ„Ÿä¾èµ–å¼ºçƒˆï¼Œåœ¨æ„Ÿæƒ…ä¸­æ¯”è¾ƒæ•æ„Ÿå’Œç„¦è™‘ï¼Œæ¸´æœ›æ›´å¤šçš„ç¡®è®¤å’Œé™ªä¼´ã€‚"
            },
            {
                conditions: (levels) => levels.control === 'high' && levels.jealousy === 'high',
                tag: "éœ¸é“æŒæ§å‹",
                description: "ä½ å¸Œæœ›å®Œå…¨æŒæ§ä¼´ä¾£çš„è¡Œä¸ºï¼Œå«‰å¦’å¿ƒå¼ºï¼Œå®¹æ˜“å¼ºåŠ¿ä»‹å…¥å¯¹æ–¹ç”Ÿæ´»ï¼Œæ¸´æœ›å…³ç³»çš„ä¸»å¯¼æƒã€‚"
            },
            {
                conditions: (levels) => levels.jealousy === 'high' && levels.possessiveness === 'high',
                tag: "å æœ‰æ¬²çˆ†æ£šå‹",
                description: "ä½ å¯¹ä¼´ä¾£æåº¦æ’ä»–ï¼Œä¸èƒ½æ¥å—ä»»ä½•å¼‚æ€§é è¿‘ï¼Œæœ‰å¼ºçƒˆçš„å æœ‰æ¬²æœ›å’Œå½’å±æ„Ÿéœ€æ±‚ã€‚"
            },
            {
                conditions: (levels) => Object.values(levels).every(lv => lv === 'low'),
                tag: "ä½›ç³»æ”¾å…»å‹",
                description: "ä½ å¯¹ä¼´ä¾£æ‹¥æœ‰é«˜åº¦ä¿¡ä»»å’Œå°Šé‡ï¼Œç»™äºˆå……åˆ†è‡ªç”±ï¼Œå…³ç³»è½»æ¾è‡ªåœ¨ï¼Œæ˜¯ç†æƒ³çš„æ‹çˆ±çŠ¶æ€ã€‚"
            },
            {
                conditions: (levels) => levels.dependency === 'high' && levels.jealousy === 'high',
                tag: "é»äººå°å¯çˆ±å‹",
                description: "ä½ ä¾èµ–ä¼´ä¾£åˆå®¹æ˜“åƒé†‹ï¼Œæ¸´æœ›è¢«å…³æ³¨ä¸ç…§é¡¾ï¼Œå¸Œæœ›æˆä¸ºå¯¹æ–¹ç”Ÿæ´»çš„é‡å¿ƒã€‚"
            },
            {
                conditions: (levels) => levels.insecurity === 'high' && levels.control === 'high',
                tag: "ç–‘å¿ƒæŸ¥å²—å‹",
                description: "ä½ å®¹æ˜“æ€€ç–‘ä¼´ä¾£ï¼Œå–œæ¬¢æŸ¥å²—å’Œé¢‘ç¹ç¡®è®¤ï¼Œå¯¹å…³ç³»ç¼ºä¹å®‰å…¨æ„Ÿï¼Œéœ€è¦æ›´å¤šä¿¡ä»»å»ºç«‹ã€‚"
            },
            {
                conditions: (levels) => levels.control === 'high' && levels.possessiveness === 'high',
                tag: "å¼ºåŠ¿ä¿æŠ¤å‹",
                description: "ä½ å¸Œæœ›ä¿æŠ¤å’ŒæŒæ§ä¼´ä¾£ï¼Œä¸å…è®¸å¤–ç•Œå¹²æ‰°ï¼Œæœ‰å¼ºçƒˆçš„é¢†åŸŸæ„è¯†å’Œä¿æŠ¤æ¬²ã€‚"
            },
            {
                conditions: (levels) => levels.insecurity === 'high' && levels.jealousy === 'high',
                tag: "æ•æ„Ÿç»ç’ƒå¿ƒå‹",
                description: "ä½ å¯¹å…³ç³»å˜åŒ–æ•æ„Ÿï¼Œå®¹æ˜“å› å°äº‹äº§ç”Ÿå«‰å¦’å’Œä¸å®‰ï¼Œéœ€è¦æ›´å¤šçš„æƒ…æ„Ÿæ”¯æŒå’Œç†è§£ã€‚"
            },
            {
                conditions: (levels) => levels.dependency === 'high' && levels.control === 'high',
                tag: "å…¨æ–¹ä½ä¾èµ–å‹",
                description: "ä½ æ—¢ä¾èµ–ä¼´ä¾£åˆæƒ³æ§åˆ¶å¯¹æ–¹ï¼Œå¸Œæœ›ä¸¤äººå®Œå…¨èä¸ºä¸€ä½“ï¼Œç•Œé™æ¨¡ç³Šã€‚"
            },
            {
                conditions: (levels) => Object.values(levels).filter(lv => lv === 'high').length >= 3,
                tag: "å æœ‰æ¬²MAXå‹",
                description: "ä½ åœ¨å¤šä¸ªç»´åº¦éƒ½è¡¨ç°å‡ºå¼ºçƒˆçš„å æœ‰æ¬²ï¼Œå¯¹å…³ç³»æœ‰æé«˜çš„æ§åˆ¶éœ€æ±‚å’Œæƒ…æ„ŸæŠ•å…¥ã€‚"
            },
            {
                conditions: (levels) => Object.values(levels).every(lv => lv === 'medium'),
                tag: "å¹³è¡¡é€‚åº¦å‹",
                description: "ä½ çš„å„é¡¹æŒ‡æ ‡éƒ½æ¯”è¾ƒå‡è¡¡ï¼Œæ—¢æœ‰é€‚åº¦çš„åœ¨æ„åˆä¸è¿‡åˆ†ï¼Œæ˜¯ç›¸å¯¹å¥åº·çš„æ‹çˆ±çŠ¶æ€ã€‚"
            },
            {
                conditions: () => true,
                tag: "å¤åˆçŸ›ç›¾å‹",
                description: "ä½ çš„å æœ‰æ¬²å’Œæƒ…æ„Ÿç‰¹ç‚¹æ¯”è¾ƒå¤æ‚å¤šå…ƒï¼Œåœ¨ä¸åŒæƒ…å†µä¸‹å¯èƒ½è¡¨ç°å‡ºä¸åŒçš„ç‰¹å¾ã€‚"
            }
        ];

        // è¡ŒåŠ¨æŒ‡å—é…ç½®
        const actionGuides = {
            "ç„¦è™‘ä¾æ‹å‹": {
                self: [
                    "ç»ƒä¹ è‡ªæˆ‘è‚¯å®šï¼šæ¯å¤©å†™ä¸‹3ä»¶ä½ åšå¾—å¥½çš„äº‹æƒ…ï¼ŒåŸ¹å…»è‡ªæˆ‘ä»·å€¼æ„Ÿ",
                    "å­¦ä¼šæƒ…ç»ªè°ƒèŠ‚ï¼šå½“ç„¦è™‘æ—¶ï¼Œå°è¯•æ·±å‘¼å¸æˆ–å†¥æƒ³5-10åˆ†é’Ÿ",
                    "å»ºç«‹å®‰å…¨æ„Ÿï¼šåˆ¶å®šä¸ªäººæˆé•¿è®¡åˆ’ï¼Œé€šè¿‡æå‡è‡ªå·±æ¥å¢å¼ºå†…å¿ƒå®‰å…¨æ„Ÿ"
                ],
                partner: [
                    "å¤šç»™äºˆè¨€è¯­è‚¯å®šå’Œèº«ä½“æ¥è§¦ï¼Œè®©TAæ„Ÿå—åˆ°ä½ çš„çˆ±æ„",
                    "ä¿æŒæ²Ÿé€šçš„åŠæ—¶æ€§ï¼Œé¿å…è®©TAäº§ç”Ÿè¢«å¿½è§†çš„æ„Ÿè§‰",
                    "è€å¿ƒè§£é‡Šä½ çš„è¡Œä¸ºå’Œæƒ³æ³•ï¼Œå¸®åŠ©TAå»ºç«‹å¯¹å…³ç³»çš„ä¿¡å¿ƒ"
                ],
                relationship: [
                    "é£é™©ï¼šè¿‡åº¦å¯»æ±‚ç¡®è®¤å¯èƒ½è®©ä¼´ä¾£æ„Ÿåˆ°å‹åŠ›ï¼Œå¯¼è‡´å…³ç³»ç´§å¼ ",
                    "å»ºè®®ï¼šå»ºç«‹å®šæœŸæ²Ÿé€šæ—¶é—´ï¼Œè®©åŒæ–¹éƒ½èƒ½è¡¨è¾¾éœ€æ±‚å’Œæ„Ÿå—",
                    "é¢„é˜²ï¼šåŸ¹å…»å…±åŒå…´è¶£ï¼Œå¢åŠ æ­£é¢äº’åŠ¨ï¼Œå‡å°‘ç„¦è™‘æƒ…ç»ª"
                ]
            },
            "éœ¸é“æŒæ§å‹": {
                self: [
                    "å­¦ä¼šæ”¾æ‰‹ï¼šæ¯å‘¨é€‰æ‹©ä¸€ä»¶äº‹å®Œå…¨äº¤ç»™ä¼´ä¾£å†³å®šï¼Œç»ƒä¹ ä¿¡ä»»",
                    "åŸ¹å…»åŒç†å¿ƒï¼šç«™åœ¨ä¼´ä¾£è§’åº¦æ€è€ƒï¼Œç†è§£TAçš„æ„Ÿå—å’Œéœ€æ±‚",
                    "å‘å±•ä¸ªäººå…´è¶£ï¼šå°†æ³¨æ„åŠ›è½¬å‘è‡ªå·±çš„æˆé•¿å’Œçˆ±å¥½"
                ],
                partner: [
                    "æ¸©å’Œä½†åšå®šåœ°è®¾ç«‹è¾¹ç•Œï¼Œä¸è¦å®Œå…¨å¦¥åè‡ªå·±çš„è‡ªç”±",
                    "ç”¨ç§¯æçš„æ–¹å¼å¼•å¯¼TAå‚ä¸å†³ç­–ï¼Œè€Œä¸æ˜¯è¢«åŠ¨æ¥å—æ§åˆ¶",
                    "åŠæ—¶æ²Ÿé€šä¸é€‚æ„Ÿå—ï¼Œé¿å…ç§¯ç´¯æ€¨æ¨æƒ…ç»ª"
                ],
                relationship: [
                    "é£é™©ï¼šè¿‡åº¦æ§åˆ¶ä¼šè®©ä¼´ä¾£æ„Ÿåˆ°çª’æ¯ï¼Œå¯èƒ½å¯¼è‡´åæŠ—æˆ–é€ƒé¿",
                    "å»ºè®®ï¼šå»ºç«‹å¹³ç­‰çš„å†³ç­–æœºåˆ¶ï¼Œé‡è¦äº‹æƒ…å…±åŒå•†é‡",
                    "é¢„é˜²ï¼šå®šæœŸæ£€è§†å…³ç³»åŠ¨æ€ï¼Œç¡®ä¿åŒæ–¹éƒ½æœ‰å‘è¨€æƒå’Œè‡ªä¸»æƒ"
                ]
            },
            "å æœ‰æ¬²çˆ†æ£šå‹": {
                self: [
                    "ç†æ€§åˆ†æï¼šå½“å«‰å¦’æ—¶ï¼Œé—®è‡ªå·±'è¿™ç§æ‹…å¿ƒæ˜¯å¦åˆç†ï¼Ÿ'",
                    "æ‰©å±•ç¤¾äº¤åœˆï¼šåŸ¹å…»è‡ªå·±çš„æœ‹å‹å…³ç³»ï¼Œå‡å°‘å¯¹ä¼´ä¾£çš„è¿‡åº¦å…³æ³¨",
                    "å­¦ä¹ ä¿¡ä»»ï¼šä»å°äº‹å¼€å§‹ç»ƒä¹ ç›¸ä¿¡ä¼´ä¾£ï¼Œé€æ­¥å»ºç«‹ä¿¡ä»»æ„Ÿ"
                ],
                partner: [
                    "ä¿æŒé€æ˜åº¦ï¼šä¸»åŠ¨åˆ†äº«ä½ çš„æ—¥å¸¸å’Œç¤¾äº¤æƒ…å†µ",
                    "ç»™äºˆå®‰å…¨æ„Ÿï¼šç»å¸¸è¡¨è¾¾å¯¹å…³ç³»çš„æ‰¿è¯ºå’Œå¯¹TAçš„çˆ±æ„",
                    "è®¾å®šåˆç†è¾¹ç•Œï¼šæ—¢è¦ç…§é¡¾TAçš„æ„Ÿå—ï¼Œä¹Ÿè¦ä¿æŒé€‚åº¦çš„ç¤¾äº¤è‡ªç”±"
                ],
                relationship: [
                    "é£é™©ï¼šæåº¦æ’ä»–å¯èƒ½å¯¼è‡´ç¤¾äº¤å­¤ç«‹ï¼Œå½±å“åŒæ–¹çš„äººé™…å…³ç³»",
                    "å»ºè®®ï¼šé€æ­¥æ‰©å¤§å…±åŒç¤¾äº¤åœˆï¼Œè®©TAæ„Ÿå—åˆ°åŒ…å®¹è€Œéå¨èƒ",
                    "é¢„é˜²ï¼šå»ºç«‹ä¿¡ä»»ä»ªå¼ï¼Œå¦‚å®šæœŸçº¦ä¼šã€åˆ†äº«æ—¥å¸¸ç­‰"
                ]
            },
            "ä½›ç³»æ”¾å…»å‹": {
                self: [
                    "ä¿æŒè¿™ç§å¥åº·çš„å¿ƒæ€ï¼Œç»§ç»­ç»™äºˆä¼´ä¾£å……åˆ†çš„ä¿¡ä»»å’Œè‡ªç”±",
                    "é€‚åº¦è¡¨è¾¾å…³å¿ƒï¼šè™½ç„¶ä¸å æœ‰ï¼Œä½†ä¹Ÿè¦è®©ä¼´ä¾£æ„Ÿå—åˆ°ä½ çš„åœ¨æ„",
                    "ç»´æŠ¤å…³ç³»çƒ­åº¦ï¼šé¿å…è¿‡äºä½›ç³»è€Œå¿½ç•¥äº†å…³ç³»çš„ç»è¥"
                ],
                partner: [
                    "çæƒœè¿™ç§è‡ªç”±çš„å…³ç³»æ°›å›´ï¼Œä¸è¦æ»¥ç”¨å¯¹æ–¹çš„ä¿¡ä»»",
                    "ä¸»åŠ¨è¡¨è¾¾çˆ±æ„ï¼šTAçš„ä¸å æœ‰ä¸ä»£è¡¨ä¸åœ¨æ„ï¼Œè¦è®©TAæ„Ÿå—åˆ°è¢«çˆ±",
                    "ä¿æŒé€‚åº¦çš„åˆ†äº«ï¼šè®©TAäº†è§£ä½ çš„ç”Ÿæ´»ï¼Œç»´æŒæƒ…æ„Ÿè¿æ¥"
                ],
                relationship: [
                    "ä¼˜åŠ¿ï¼šè¿™æ˜¯æœ€å¥åº·çš„å…³ç³»çŠ¶æ€ï¼ŒåŒæ–¹éƒ½æœ‰æˆé•¿ç©ºé—´",
                    "æ³¨æ„ï¼šé¿å…è¿‡äºç‹¬ç«‹è€Œç¼ºä¹äº²å¯†æ„Ÿ",
                    "ç»´æŠ¤ï¼šå®šæœŸæ£€è§†å…³ç³»éœ€æ±‚ï¼Œç¡®ä¿åŒæ–¹çš„æƒ…æ„Ÿéœ€æ±‚éƒ½å¾—åˆ°æ»¡è¶³"
                ]
            },
            "é»äººå°å¯çˆ±å‹": {
                self: [
                    "åŸ¹å…»ç‹¬ç«‹æ€§ï¼šæ¯å¤©å®‰æ’ä¸€äº›ç‹¬å¤„æ—¶é—´ï¼Œå­¦ä¼šäº«å—ç‹¬å¤„",
                    "å‘å±•ä¸ªäººå…´è¶£ï¼šæ‰¾åˆ°é™¤äº†æ‹çˆ±ä¹‹å¤–è®©ä½ å¿«ä¹çš„äº‹æƒ…",
                    "å­¦ä¼šæƒ…ç»ªç®¡ç†ï¼šå½“æƒ³è¦é»ç€ä¼´ä¾£æ—¶ï¼Œå…ˆé—®é—®è‡ªå·±çœŸæ­£éœ€è¦ä»€ä¹ˆ"
                ],
                partner: [
                    "ç»™äºˆè¶³å¤Ÿçš„å…³æ³¨å’Œé™ªä¼´ï¼Œæ»¡è¶³TAçš„æƒ…æ„Ÿéœ€æ±‚",
                    "æ¸©æŸ”åœ°é¼“åŠ±TAå‘å±•ç‹¬ç«‹æ€§ï¼Œæ”¯æŒTAçš„ä¸ªäººæˆé•¿",
                    "è®¾å®šåˆç†çš„ç›¸å¤„æ—¶é—´ï¼Œæ—¢æ»¡è¶³TAçš„éœ€æ±‚åˆä¿æŒä¸ªäººç©ºé—´"
                ],
                relationship: [
                    "é£é™©ï¼šè¿‡åº¦ä¾èµ–å¯èƒ½è®©å…³ç³»å¤±å»å¹³è¡¡ï¼Œäº§ç”Ÿç–²åŠ³æ„Ÿ",
                    "å»ºè®®ï¼šåŸ¹å…»å…±åŒå…´è¶£çš„åŒæ—¶ï¼Œä¹Ÿè¦ä¿æŒå„è‡ªçš„ç‹¬ç«‹ç©ºé—´",
                    "é¢„é˜²ï¼šå®šæœŸè¿›è¡Œå…³ç³»æ£€è§†ï¼Œç¡®ä¿åŒæ–¹éƒ½æ„Ÿåˆ°èˆ’é€‚"
                ]
            },
            "ç–‘å¿ƒæŸ¥å²—å‹": {
                self: [
                    "è´¨ç–‘è´Ÿé¢æƒ³æ³•ï¼šå½“äº§ç”Ÿæ€€ç–‘æ—¶ï¼Œå¯»æ‰¾å®¢è§‚è¯æ®è€Œéå‡­æ„Ÿè§‰",
                    "å»ºç«‹ä¿¡ä»»ç»ƒä¹ ï¼šä»å°äº‹å¼€å§‹ç›¸ä¿¡ä¼´ä¾£ï¼Œè®°å½•ç§¯æçš„äº’åŠ¨",
                    "å¯»æ±‚ä¸“ä¸šå¸®åŠ©ï¼šå¦‚æœæ€€ç–‘ä¸¥é‡å½±å“ç”Ÿæ´»ï¼Œè€ƒè™‘å¿ƒç†å’¨è¯¢"
                ],
                partner: [
                    "ä¿æŒè€å¿ƒå’Œç†è§£ï¼Œä¸è¦å› ä¸ºè¢«æ€€ç–‘è€Œç”Ÿæ°”",
                    "ä¸»åŠ¨æä¾›é€æ˜åº¦ï¼šåˆ†äº«ä½ çš„è¡Œç¨‹å’Œæƒ³æ³•ï¼Œå‡å°‘TAçš„ç–‘è™‘",
                    "æ¸©å’Œåœ°è®¾ç«‹è¾¹ç•Œï¼šä¸èƒ½æ— é™åˆ¶åœ°æ¥å—æŸ¥å²—è¡Œä¸º"
                ],
                relationship: [
                    "é£é™©ï¼šæŒç»­çš„æ€€ç–‘ä¼šæ¶ˆè€—å…³ç³»çš„ä¿¡ä»»åŸºç¡€",
                    "å»ºè®®ï¼šå»ºç«‹å¼€æ”¾çš„æ²Ÿé€šæœºåˆ¶ï¼Œæœ‰ç–‘è™‘æ—¶ç›´æ¥è¡¨è¾¾è€Œéæš—ä¸­è°ƒæŸ¥",
                    "é¢„é˜²ï¼šé€šè¿‡å…±åŒæ´»åŠ¨å’Œæ·±åº¦æ²Ÿé€šæ¥å»ºç«‹æ›´å¼ºçš„ä¿¡ä»»çº½å¸¦"
                ]
            },
            "å¼ºåŠ¿ä¿æŠ¤å‹": {
                self: [
                    "åŒºåˆ†ä¿æŠ¤å’Œæ§åˆ¶ï¼šçœŸæ­£çš„ä¿æŠ¤æ˜¯æ”¯æŒå¯¹æ–¹æˆé•¿ï¼Œè€Œéé™åˆ¶è‡ªç”±",
                    "å­¦ä¼šåå•†ï¼šé‡è¦å†³å®šæ—¶ï¼Œå¬å–ä¼´ä¾£çš„æ„è§å¹¶å°Šé‡TAçš„é€‰æ‹©",
                    "åŸ¹å…»æŸ”è½¯çš„ä¸€é¢ï¼šåœ¨å¼ºåŠ¿ä¹‹å¤–ï¼Œä¹Ÿè¦å±•ç°æ¸©æŸ”å’Œè„†å¼±"
                ],
                partner: [
                    "æ„Ÿè°¢TAçš„ä¿æŠ¤æ„å›¾ï¼Œä½†ä¹Ÿè¦è¡¨è¾¾è‡ªå·±çš„ç‹¬ç«‹éœ€æ±‚",
                    "å‚ä¸å†³ç­–è¿‡ç¨‹ï¼šä¸è¦å®Œå…¨è¢«åŠ¨ï¼Œè¦è¡¨è¾¾è‡ªå·±çš„æƒ³æ³•å’Œæ„è§",
                    "æ¸©å’Œåœ°æŒ‘æˆ˜è¿‡åº¦ä¿æŠ¤ï¼šç”¨çˆ±çš„æ–¹å¼è®©TAæ˜ç™½ä½ çš„èƒ½åŠ›"
                ],
                relationship: [
                    "é£é™©ï¼šè¿‡åº¦ä¿æŠ¤å¯èƒ½é˜»ç¢ä¼´ä¾£çš„ä¸ªäººæˆé•¿",
                    "å»ºè®®ï¼šå»ºç«‹å¹³ç­‰çš„ä¼™ä¼´å…³ç³»ï¼Œäº’ç›¸æ”¯æŒè€Œéå•æ–¹é¢ä¿æŠ¤",
                    "é¢„é˜²ï¼šå®šæœŸè®¨è®ºå…³ç³»ä¸­çš„æƒåŠ›åˆ†é…ï¼Œç¡®ä¿å¹³è¡¡"
                ]
            },
            "æ•æ„Ÿç»ç’ƒå¿ƒå‹": {
                self: [
                    "æƒ…ç»ªæ—¥è®°ï¼šè®°å½•è§¦å‘æ•æ„Ÿæƒ…ç»ªçš„äº‹ä»¶ï¼Œå¯»æ‰¾è§„å¾‹å’Œåº”å¯¹æ–¹æ³•",
                    "å¢å¼ºå¿ƒç†éŸ§æ€§ï¼šé€šè¿‡è¿åŠ¨ã€å†¥æƒ³ç­‰æ–¹å¼æé«˜æƒ…ç»ªè°ƒèŠ‚èƒ½åŠ›",
                    "æ­£é¢è§£è¯»ï¼šç»ƒä¹ ä»ç§¯æè§’åº¦ç†è§£ä¼´ä¾£çš„è¡Œä¸º"
                ],
                partner: [
                    "æ¸©æŸ”å¯¹å¾…TAçš„æ•æ„Ÿï¼Œé¿å…ç²—æš´çš„è¨€è¯­æˆ–è¡Œä¸º",
                    "åŠæ—¶æ¾„æ¸…è¯¯ä¼šï¼šå½“å‘ç°TAæœ‰è¯¯è§£æ—¶ï¼Œè€å¿ƒè§£é‡Š",
                    "ç»™äºˆæ›´å¤šçš„æƒ…æ„Ÿæ”¯æŒå’Œè‚¯å®š"
                ],
                relationship: [
                    "é£é™©ï¼šè¿‡åº¦æ•æ„Ÿå¯èƒ½å¯¼è‡´é¢‘ç¹çš„è¯¯ä¼šå’Œå†²çª",
                    "å»ºè®®ï¼šå»ºç«‹å®‰å…¨çš„æ²Ÿé€šç¯å¢ƒï¼Œè®©åŒæ–¹éƒ½èƒ½è‡ªç”±è¡¨è¾¾",
                    "é¢„é˜²ï¼šå®šæœŸè¿›è¡Œæƒ…æ„Ÿæ£€è§†ï¼ŒåŠæ—¶å¤„ç†ç§¯ç´¯çš„è´Ÿé¢æƒ…ç»ª"
                ]
            },
            "å…¨æ–¹ä½ä¾èµ–å‹": {
                self: [
                    "é€æ­¥åŸ¹å…»ç‹¬ç«‹æ€§ï¼šä»å°äº‹å¼€å§‹ï¼Œå­¦ä¼šç‹¬ç«‹å†³ç­–å’Œè¡ŒåŠ¨",
                    "å»ºç«‹ä¸ªäººèº«ä»½ï¼šé™¤äº†'æŸæŸçš„ä¼´ä¾£'ï¼Œä½ è¿˜æ˜¯ç‹¬ç‰¹çš„ä¸ªä½“",
                    "å­¦ä¼šè‡ªæˆ‘æ»¡è¶³ï¼šæ‰¾åˆ°ä¸ä¾èµ–ä»–äººå°±èƒ½è·å¾—å¿«ä¹çš„æ–¹å¼"
                ],
                partner: [
                    "æ¸©å’Œåœ°é¼“åŠ±TAçš„ç‹¬ç«‹è¡Œä¸ºï¼Œç»™äºˆæ­£é¢åé¦ˆ",
                    "é¿å…è¿‡åº¦è¿å°±ï¼šé€‚åº¦çš„æ‹’ç»æœ‰åŠ©äºTAæˆé•¿",
                    "æ”¯æŒTAå‘å±•ä¸ªäººå…´è¶£å’Œç¤¾äº¤å…³ç³»"
                ],
                relationship: [
                    "é£é™©ï¼šè¿‡åº¦ä¾èµ–ä¼šè®©å…³ç³»å¤±å»æ´»åŠ›å’Œæˆé•¿ç©ºé—´",
                    "å»ºè®®ï¼šè®¾å®šä¸ªäººæˆé•¿ç›®æ ‡ï¼Œåœ¨å…³ç³»ä¸­ä¿æŒä¸ªä½“æ€§",
                    "é¢„é˜²ï¼šå®šæœŸè¯„ä¼°å…³ç³»çš„å¥åº·åº¦ï¼Œé¿å…å…±ç”Ÿå…³ç³»"
                ]
            },
            "å æœ‰æ¬²MAXå‹": {
                self: [
                    "å¯»æ±‚ä¸“ä¸šå¸®åŠ©ï¼šå¼ºçƒˆçš„å æœ‰æ¬²å¯èƒ½éœ€è¦å¿ƒç†å’¨è¯¢å¸ˆçš„ä¸“ä¸šæŒ‡å¯¼",
                    "è‡ªæˆ‘åæ€ï¼šæ·±å…¥æ¢ç´¢å æœ‰æ¬²èƒŒåçš„ææƒ§å’Œä¸å®‰",
                    "é€æ­¥æ”¾æ¾æ§åˆ¶ï¼šä»æœ€ä¸é‡è¦çš„äº‹æƒ…å¼€å§‹ï¼Œç»ƒä¹ æ”¾æ‰‹"
                ],
                partner: [
                    "è®¾ç«‹æ˜ç¡®è¾¹ç•Œï¼šä¸èƒ½å› ä¸ºçˆ±è€Œå®Œå…¨ç‰ºç‰²è‡ªå·±çš„è‡ªç”±",
                    "å¯»æ±‚å¤–éƒ¨æ”¯æŒï¼šæœ‹å‹ã€å®¶äººæˆ–ä¸“ä¸šäººå£«çš„å»ºè®®å¾ˆé‡è¦",
                    "ä¿æŒè‡ªå·±çš„ç”Ÿæ´»ï¼šä¸è¦å®Œå…¨è¢«å¯¹æ–¹çš„å æœ‰æ¬²æ‰€æ§åˆ¶"
                ],
                relationship: [
                    "é£é™©ï¼šæå¼ºçš„å æœ‰æ¬²å¯èƒ½å¯¼è‡´å…³ç³»çš„çª’æ¯å’Œç ´è£‚",
                    "å»ºè®®ï¼šè€ƒè™‘æƒ…ä¾£å’¨è¯¢ï¼Œåœ¨ä¸“ä¸šæŒ‡å¯¼ä¸‹æ”¹å–„å…³ç³»æ¨¡å¼",
                    "é¢„é˜²ï¼šå»ºç«‹å¥åº·çš„å…³ç³»è¾¹ç•Œï¼Œå­¦ä¼šå°Šé‡å½¼æ­¤çš„ç‹¬ç«‹æ€§"
                ]
            },
            "å¹³è¡¡é€‚åº¦å‹": {
                self: [
                    "ä¿æŒè¿™ç§å¹³è¡¡çŠ¶æ€ï¼Œç»§ç»­å…³æ³¨å…³ç³»çš„å¥åº·å‘å±•",
                    "é€‚æ—¶è°ƒæ•´ï¼šæ ¹æ®å…³ç³»çš„ä¸åŒé˜¶æ®µï¼Œçµæ´»è°ƒæ•´è‡ªå·±çš„è¡¨ç°",
                    "æŒç»­å­¦ä¹ ï¼šé€šè¿‡é˜…è¯»ã€äº¤æµç­‰æ–¹å¼æå‡å…³ç³»ç»è¥èƒ½åŠ›"
                ],
                partner: [
                    "çæƒœè¿™ç§å¹³è¡¡çš„å…³ç³»çŠ¶æ€ï¼Œå…±åŒç»´æŠ¤",
                    "ä¿æŒå¼€æ”¾æ²Ÿé€šï¼šåŠæ—¶åˆ†äº«æ„Ÿå—å’Œéœ€æ±‚",
                    "ä¸€èµ·æˆé•¿ï¼šåœ¨å…³ç³»ä¸­äº’ç›¸æ”¯æŒï¼Œå…±åŒè¿›æ­¥"
                ],
                relationship: [
                    "ä¼˜åŠ¿ï¼šè¿™æ˜¯ç›¸å¯¹å¥åº·å’Œç¨³å®šçš„å…³ç³»çŠ¶æ€",
                    "ç»´æŠ¤ï¼šå®šæœŸæ£€è§†å…³ç³»çŠ¶æ€ï¼ŒåŠæ—¶è°ƒæ•´",
                    "å‘å±•ï¼šåœ¨ç¨³å®šçš„åŸºç¡€ä¸Šï¼Œæ¢ç´¢æ›´æ·±å±‚çš„æƒ…æ„Ÿè¿æ¥"
                ]
            },
            "å¤åˆçŸ›ç›¾å‹": {
                self: [
                    "è‡ªæˆ‘æ¢ç´¢ï¼šæ·±å…¥äº†è§£è‡ªå·±åœ¨ä¸åŒæƒ…å†µä¸‹çš„æƒ…æ„Ÿååº”",
                    "å¯»æ‰¾è§„å¾‹ï¼šè§‚å¯Ÿä»€ä¹ˆæƒ…å†µä¸‹ä½ ä¼šè¡¨ç°å‡ºä¸åŒçš„å æœ‰æ¬²ç‰¹å¾",
                    "æ•´åˆè‡ªæˆ‘ï¼šæ¥å—è‡ªå·±çš„å¤æ‚æ€§ï¼Œå­¦ä¼šç®¡ç†ä¸åŒçš„æƒ…æ„ŸçŠ¶æ€"
                ],
                partner: [
                    "ä¿æŒè€å¿ƒï¼šç†è§£TAçš„å¤æ‚æ€§ï¼Œä¸è¦è¯•å›¾ç®€å•å®šä¹‰",
                    "çµæ´»åº”å¯¹ï¼šæ ¹æ®TAçš„ä¸åŒçŠ¶æ€ï¼Œè°ƒæ•´ç›¸å¤„æ–¹å¼",
                    "æ·±åº¦æ²Ÿé€šï¼šå¸®åŠ©TAæ›´å¥½åœ°ç†è§£å’Œè¡¨è¾¾è‡ªå·±çš„æƒ…æ„Ÿ"
                ],
                relationship: [
                    "æŒ‘æˆ˜ï¼šå¤æ‚çš„æƒ…æ„Ÿæ¨¡å¼å¯èƒ½è®©å…³ç³»éš¾ä»¥é¢„æµ‹",
                    "æœºä¼šï¼šå¤šå…ƒåŒ–çš„ç‰¹å¾ä¹Ÿæ„å‘³ç€æ›´ä¸°å¯Œçš„å…³ç³»ä½“éªŒ",
                    "å»ºè®®ï¼šå»ºç«‹ç¨³å®šçš„æ²Ÿé€šæœºåˆ¶ï¼ŒåŠæ—¶å¤„ç†æƒ…æ„Ÿå˜åŒ–"
                ]
            }
        };

        // æµ‹è¯•çŠ¶æ€
        let currentQuestion = 0;
        let answers = [];
        let selectedQuestions = [];

        // é€‰æ‹©50é“é¢˜è¿›è¡Œæµ‹è¯•
        function selectRandomQuestions() {
            const shuffled = [...questionBank].sort(() => 0.5 - Math.random());
            selectedQuestions = shuffled.slice(0, 50);
            answers = new Array(50).fill(null);
        }

        // å¼€å§‹æµ‹è¯•
        function startTest() {
            selectRandomQuestions();
            document.getElementById('start-page').style.display = 'none';
            document.getElementById('test-page').style.display = 'block';
            showQuestion();
        }

        // æ˜¾ç¤ºé¢˜ç›®
        function showQuestion() {
            const question = selectedQuestions[currentQuestion];
            document.getElementById('question-number').textContent = `ç¬¬ ${currentQuestion + 1} é¢˜ / å…± 50 é¢˜`;
            document.getElementById('question-text').textContent = question.text;
            
            const optionsContainer = document.getElementById('options-container');
            optionsContainer.innerHTML = '';
            
            const options = [
                { value: 4, text: 'éå¸¸ç¬¦åˆ' },
                { value: 3, text: 'æ¯”è¾ƒç¬¦åˆ' },
                { value: 2, text: 'ä¸å¤ªç¬¦åˆ' },
                { value: 1, text: 'å®Œå…¨ä¸ç¬¦åˆ' }
            ];
            
            options.forEach(option => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                if (answers[currentQuestion] === option.value) {
                    optionDiv.classList.add('selected');
                }
                
                optionDiv.innerHTML = `
                    <input type="radio" name="q${currentQuestion}" value="${option.value}" 
                           ${answers[currentQuestion] === option.value ? 'checked' : ''}>
                    <label>${option.text}</label>
                `;
                
                optionDiv.addEventListener('click', () => selectOption(option.value, optionDiv));
                optionsContainer.appendChild(optionDiv);
            });
            
            updateProgress();
            updateButtons();
        }

        // é€‰æ‹©é€‰é¡¹
        function selectOption(value, optionDiv) {
            answers[currentQuestion] = value;
            
            // æ›´æ–°é€‰ä¸­çŠ¶æ€
            document.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
            optionDiv.classList.add('selected');
            
            // æ›´æ–°å•é€‰æŒ‰é’®
            const radio = optionDiv.querySelector('input[type="radio"]');
            radio.checked = true;
            
            updateButtons();
        }

        // æ›´æ–°è¿›åº¦æ¡
        function updateProgress() {
            const progress = ((currentQuestion + 1) / 50) * 100;
            document.getElementById('progress').style.width = progress + '%';
        }

        // æ›´æ–°æŒ‰é’®çŠ¶æ€
        function updateButtons() {
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const submitBtn = document.getElementById('submit-btn');
            
            prevBtn.disabled = currentQuestion === 0;
            
            if (currentQuestion === 49) {
                nextBtn.style.display = 'none';
                submitBtn.style.display = 'inline-block';
                submitBtn.disabled = answers[currentQuestion] === null;
            } else {
                nextBtn.style.display = 'inline-block';
                submitBtn.style.display = 'none';
                nextBtn.disabled = answers[currentQuestion] === null;
            }
        }

        // ä¸‹ä¸€é¢˜
        function nextQuestion() {
            if (currentQuestion < 49 && answers[currentQuestion] !== null) {
                currentQuestion++;
                showQuestion();
            }
        }

        // ä¸Šä¸€é¢˜
        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion();
            }
        }

        // è®¡ç®—ç»´åº¦å¾—åˆ†
        function calculateDimensionScores() {
            const dimensionScores = {
                insecurity: { total: 0, count: 0, maxPossible: 0 },
                control: { total: 0, count: 0, maxPossible: 0 },
                jealousy: { total: 0, count: 0, maxPossible: 0 },
                dependency: { total: 0, count: 0, maxPossible: 0 },
                possessiveness: { total: 0, count: 0, maxPossible: 0 }
            };

            answers.forEach((answer, index) => {
                if (answer !== null) {
                    const question = selectedQuestions[index];
                    const dimension = question.dimension;
                    const weight = question.weight;
                    
                    dimensionScores[dimension].total += answer * weight;
                    dimensionScores[dimension].count += 1;
                    dimensionScores[dimension].maxPossible += 4 * weight;
                }
            });

            const percentageScores = {};
            Object.keys(dimensionScores).forEach(dim => {
                if (dimensionScores[dim].count > 0) {
                    percentageScores[dim] = Math.round(
                        (dimensionScores[dim].total / dimensionScores[dim].maxPossible) * 100
                    );
                } else {
                    percentageScores[dim] = 0;
                }
            });

            return percentageScores;
        }

        // ç”Ÿæˆäººæ ¼æ ‡ç­¾
        function generatePersonalityTag(scores) {
            function getLevel(score) {
                if (score >= 70) return 'high';
                else if (score >= 40) return 'medium';
                else return 'low';
            }
            
            const levels = {};
            Object.keys(scores).forEach(dim => {
                levels[dim] = getLevel(scores[dim]);
            });
            
            // æŒ‰ä¼˜å…ˆçº§åŒ¹é…æ ‡ç­¾
            for (const tagConfig of personalityTags) {
                if (tagConfig.conditions(levels)) {
                    return {
                        tag: tagConfig.tag,
                        description: tagConfig.description
                    };
                }
            }
            
            // é»˜è®¤è¿”å›æœ€åä¸€ä¸ªæ ‡ç­¾
            return personalityTags[personalityTags.length - 1];
        }

        // ç”Ÿæˆç»´åº¦å»ºè®®
        function generateDimensionAdvice(scores) {
            const advice = [];
            
            const dimensionAdviceMap = {
                insecurity: {
                    high: 'ä½ å¯¹å…³ç³»çš„ä¸å®‰å…¨æ„Ÿè¾ƒå¼ºï¼Œå»ºè®®åŸ¹å…»è‡ªæˆ‘ä»·å€¼æ„Ÿï¼Œå­¦ä¼šç›¸ä¿¡ä¼´ä¾£çš„é€‰æ‹©ã€‚å¯ä»¥å°è¯•å†¥æƒ³ã€å†™æ—¥è®°ç­‰æ–¹å¼å¢å¼ºå†…å¿ƒå®‰å…¨æ„Ÿã€‚',
                    medium: 'ä½ å¶å°”ä¼šå¯¹å…³ç³»äº§ç”Ÿä¸å®‰ï¼Œè¿™æ˜¯æ­£å¸¸çš„ï¼Œä½†è¦é¿å…è¿‡åº¦å¯»æ±‚ç¡®è®¤ã€‚å»ºè®®ä¸ä¼´ä¾£å¼€è¯šå¸ƒå…¬åœ°æ²Ÿé€šä½ çš„æ„Ÿå—ã€‚',
                    low: 'ä½ å¯¹å…³ç³»æœ‰è¾ƒå¼ºçš„å®‰å…¨æ„Ÿï¼Œè¿™æ˜¯å¥åº·å…³ç³»çš„åŸºç¡€ã€‚ç»§ç»­ä¿æŒè¿™ç§è‡ªä¿¡å’Œä¿¡ä»»ã€‚'
                },
                control: {
                    high: 'ä½ çš„æ§åˆ¶æ¬²è¾ƒå¼ºï¼Œå»ºè®®å°Šé‡ä¼´ä¾£çš„ç§äººç©ºé—´ï¼Œå»ºç«‹æ›´å¹³ç­‰çš„ç›¸å¤„æ¨¡å¼ã€‚è¯•ç€åŸ¹å…»è‡ªå·±çš„å…´è¶£çˆ±å¥½ï¼Œå‡å°‘å¯¹ä¼´ä¾£çš„è¿‡åº¦å…³æ³¨ã€‚',
                    medium: 'ä½ å¯¹ä¼´ä¾£æœ‰ä¸€å®šçš„ç›‘ç£éœ€æ±‚ï¼Œæ³¨æ„æŠŠæ¡åº¦ï¼Œé¿å…è¿‡åº¦å¹²æ¶‰ã€‚å¯ä»¥å’Œä¼´ä¾£çº¦å®šåˆç†çš„è¾¹ç•Œã€‚',
                    low: 'ä½ æ‡‚å¾—ç»™äºˆä¼´ä¾£è‡ªç”±ï¼Œè¿™ç§ä¿¡ä»»æ˜¯å…³ç³»ç¨³å®šçš„å…³é”®ã€‚ç»§ç»­ä¿æŒè¿™ç§å°Šé‡å’Œç†è§£ã€‚'
                },
                jealousy: {
                    high: 'ä½ çš„å«‰å¦’å¿ƒè¾ƒå¼ºï¼Œå»ºè®®å¢å¼ºè‡ªä¿¡ï¼Œæ¥å—ä¼´ä¾£æœ‰æ­£å¸¸çš„ç¤¾äº¤éœ€æ±‚ã€‚å¯ä»¥é€šè¿‡è¿åŠ¨ã€å­¦ä¹ æ–°æŠ€èƒ½ç­‰æ–¹å¼æå‡è‡ªæˆ‘ä»·å€¼æ„Ÿã€‚',
                    medium: 'ä½ å¯¹å¼‚æ€§æ¥è§¦æœ‰ä¸€å®šæ•æ„Ÿåº¦ï¼Œå±äºæ­£å¸¸èŒƒå›´ï¼Œä½†è¦é¿å…è¿‡åº¦çŒœç–‘ã€‚å»ºè®®ç†æ€§åˆ†ææƒ…å†µï¼Œé¿å…æƒ…ç»ªåŒ–ååº”ã€‚',
                    low: 'ä½ å¯¹ä¼´ä¾£çš„ç¤¾äº¤æŒå¼€æ”¾æ€åº¦ï¼Œè¿™ç§æˆç†Ÿå€¼å¾—è‚¯å®šã€‚è¿™æ ·çš„å¿ƒæ€æœ‰åŠ©äºå…³ç³»çš„é•¿ä¹…å‘å±•ã€‚'
                },
                dependency: {
                    high: 'ä½ å¯¹ä¼´ä¾£çš„æƒ…æ„Ÿä¾èµ–è¾ƒå¼ºï¼Œå»ºè®®åŸ¹å…»ç‹¬ç«‹æ€§ï¼Œä¸°å¯Œè‡ªå·±çš„ç”Ÿæ´»ã€‚å¯ä»¥å‘å±•ä¸ªäººå…´è¶£ï¼Œç»´æŠ¤ç‹¬ç«‹çš„ç¤¾äº¤åœˆã€‚',
                    medium: 'ä½ å¯¹ä¼´ä¾£æœ‰é€‚åº¦çš„æƒ…æ„Ÿéœ€æ±‚ï¼Œä¿æŒå¹³è¡¡å³å¯ã€‚æ³¨æ„ä¸è¦è®©ä¾èµ–å˜æˆè´Ÿæ‹…ã€‚',
                    low: 'ä½ ä¿æŒç€è‰¯å¥½çš„ç‹¬ç«‹æ€§ï¼Œè¿™è®©å…³ç³»æ›´å¥åº·ã€‚ç‹¬ç«‹çš„ä¸ªä½“æ‰èƒ½æ„å»ºæ›´ç¨³å›ºçš„å…³ç³»ã€‚'
                },
                possessiveness: {
                    high: 'ä½ å¸Œæœ›ç‹¬å ä¼´ä¾£çš„å€¾å‘æ˜æ˜¾ï¼Œå»ºè®®æ¥å—ä¼´ä¾£ä¹Ÿéœ€è¦å…¶ä»–å…³ç³»çš„äº‹å®ã€‚å¥åº·çš„å…³ç³»éœ€è¦ç»™å½¼æ­¤æˆé•¿çš„ç©ºé—´ã€‚',
                    medium: 'ä½ å¸Œæœ›åœ¨ä¼´ä¾£ç”Ÿæ´»ä¸­å é‡è¦ä½ç½®ï¼Œè¿™å¯ä»¥ç†è§£ï¼Œä½†è¦ç•™ç»™å¯¹æ–¹ç©ºé—´ã€‚å¹³è¡¡æ˜¯å…³é”®ã€‚',
                    low: 'ä½ æ¥å—ä¼´ä¾£æœ‰å¤šå…ƒåŒ–çš„äººé™…å…³ç³»ï¼Œè¿™ç§åŒ…å®¹éš¾èƒ½å¯è´µã€‚è¿™æ ·çš„å¿ƒæ€æœ‰åŠ©äºå…³ç³»çš„å’Œè°å‘å±•ã€‚'
                }
            };
            
            Object.entries(scores).forEach(([dimension, score]) => {
                let level, levelText, color;
                
                if (score >= 70) {
                    level = 'high';
                    levelText = 'è¾ƒé«˜';
                    color = dimensions[dimension].color;
                } else if (score >= 40) {
                    level = 'medium';
                    levelText = 'é€‚ä¸­';
                    color = '#F8B500';
                } else {
                    level = 'low';
                    levelText = 'è¾ƒä½';
                    color = '#4ECDC4';
                }
                
                advice.push({
                    dimension: dimensions[dimension].name,
                    score: score,
                    level: levelText,
                    color: color,
                    description: dimensions[dimension].description,
                    suggestion: dimensionAdviceMap[dimension][level]
                });
            });
            
            return advice;
        }

        // ç”Ÿæˆè¡ŒåŠ¨æŒ‡å—
        function generateActionGuide(personalityTag) {
            const guide = actionGuides[personalityTag] || actionGuides["å¤åˆçŸ›ç›¾å‹"];
            
            return {
                self: guide.self,
                partner: guide.partner,
                relationship: guide.relationship
            };
        }

        // ç»˜åˆ¶é›·è¾¾å›¾
        function drawRadarChart(scores) {
            const ctx = document.getElementById('radarChart').getContext('2d');
            
            new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['ä¸å®‰å…¨æ„Ÿ', 'æ§åˆ¶æ¬²', 'å«‰å¦’å¿ƒ', 'ä¾èµ–æ€§', 'æ’ä»–æ€§'],
                    datasets: [{
                        label: 'ä½ çš„å¾—åˆ†',
                        data: [
                            scores.insecurity,
                            scores.control,
                            scores.jealousy,
                            scores.dependency,
                            scores.possessiveness
                        ],
                        backgroundColor: 'rgba(255, 107, 157, 0.2)',
                        borderColor: '#ff6b9d',
                        borderWidth: 3,
                        pointBackgroundColor: '#ff6b9d',
                        pointBorderColor: '#fff',
                        pointBorderWidth: 2,
                        pointRadius: 6,
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: '#ff6b9d'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    scales: {
                        r: {
                            beginAtZero: true,
                            max: 100,
                            ticks: {
                                stepSize: 20,
                                font: {
                                    size: 12
                                }
                            },
                            pointLabels: {
                                font: {
                                    size: 14,
                                    weight: '600'
                                }
                            },
                            grid: {
                                color: '#ffe4e6'
                            },
                            angleLines: {
                                color: '#ffe4e6'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });
        }

        // æ¸²æŸ“ç»´åº¦å¡ç‰‡
        function renderDimensionCards(dimensionAdvice) {
            const container = document.getElementById('dimension-cards');
            container.innerHTML = '';
            
            dimensionAdvice.forEach(item => {
                const card = document.createElement('div');
                card.className = 'dimension-card';
                card.style.borderLeftColor = item.color;
                
                card.innerHTML = `
                    <div class="dimension-header">
                        <div>
                            <div class="dimension-name">${item.dimension}</div>
                            <div class="dimension-description">${item.description}</div>
                        </div>
                        <div class="dimension-score">
                            <div class="score-number" style="color: ${item.color};">${item.score}</div>
                            <div class="score-level-text">${item.level}</div>
                        </div>
                    </div>
                    <div class="progress-bar-dimension">
                        <div class="progress-fill-dimension" style="width: ${item.score}%; background: ${item.color};"></div>
                    </div>
                    <div class="dimension-advice">${item.suggestion}</div>
                `;
                
                container.appendChild(card);
            });
        }

        // æ¸²æŸ“è¡ŒåŠ¨æŒ‡å—
        function renderActionGuide(actionGuide) {
            // æ¸²æŸ“è‡ªæˆ‘å»ºè®®
            const selfGuide = document.getElementById('self-guide');
            selfGuide.innerHTML = `
                <ul class="guide-list">
                    ${actionGuide.self.map(item => `<li>${item}</li>`).join('')}
                </ul>
            `;

            // æ¸²æŸ“ä¼´ä¾£å»ºè®®
            const partnerGuide = document.getElementById('partner-guide');
            partnerGuide.innerHTML = `
                <ul class="guide-list">
                    ${actionGuide.partner.map(item => `<li>${item}</li>`).join('')}
                </ul>
            `;

            // æ¸²æŸ“å…³ç³»å»ºè®®
            const relationshipGuide = document.getElementById('relationship-guide');
            relationshipGuide.innerHTML = `
                <ul class="guide-list">
                    ${actionGuide.relationship.map(item => `<li>${item}</li>`).join('')}
                </ul>
            `;
        }

        // æäº¤æµ‹è¯•
        function submitTest() {
            if (answers.includes(null)) {
                alert('è¯·å®Œæˆæ‰€æœ‰é¢˜ç›®ï¼');
                return;
            }

            // è®¡ç®—æ€»åˆ†
            const totalScore = answers.reduce((sum, answer) => sum + answer, 0);
            const maxScore = 50 * 4;
            const percentage = Math.round((totalScore / maxScore) * 100);

            // è®¡ç®—ç»´åº¦å¾—åˆ†
            const dimensionScores = calculateDimensionScores();
            
            // ç”Ÿæˆäººæ ¼æ ‡ç­¾
            const personalityResult = generatePersonalityTag(dimensionScores);
            
            // ç”Ÿæˆç»´åº¦å»ºè®®
            const dimensionAdvice = generateDimensionAdvice(dimensionScores);
            
            // ç”Ÿæˆè¡ŒåŠ¨æŒ‡å—
            const actionGuide = generateActionGuide(personalityResult.tag);

            // æ˜¾ç¤ºç»“æœ
            document.getElementById('test-page').style.display = 'none';
            document.getElementById('result-page').style.display = 'block';
            
            document.getElementById('total-score').textContent = percentage + 'åˆ†';
            
            let levelText, levelColor;
            if (percentage >= 75) {
                levelText = 'å æœ‰æ¬²å¾ˆå¼º';
                levelColor = '#ff6b9d';
            } else if (percentage >= 50) {
                levelText = 'å æœ‰æ¬²è¾ƒå¼º';
                levelColor = '#ff9ab7';
            } else if (percentage >= 25) {
                levelText = 'å æœ‰æ¬²é€‚ä¸­';
                levelColor = '#4ECDC4';
            } else {
                levelText = 'å æœ‰æ¬²è¾ƒä½';
                levelColor = '#95E1D3';
            }
            
            const scoreLevelElement = document.getElementById('score-level');
            scoreLevelElement.textContent = levelText;
            scoreLevelElement.style.color = levelColor;

            // æ˜¾ç¤ºäººæ ¼æ ‡ç­¾
            document.getElementById('tag-name').textContent = personalityResult.tag;
            document.getElementById('tag-description').textContent = personalityResult.description;

            // ç»˜åˆ¶é›·è¾¾å›¾
            setTimeout(() => {
                drawRadarChart(dimensionScores);
            }, 100);
            
            // æ¸²æŸ“ç»´åº¦å¡ç‰‡
            renderDimensionCards(dimensionAdvice);
            
            // æ¸²æŸ“è¡ŒåŠ¨æŒ‡å—
            renderActionGuide(actionGuide);
        }

        // é‡æ–°æµ‹è¯•
        function restartTest() {
            currentQuestion = 0;
            answers = [];
            selectedQuestions = [];
            
            document.getElementById('result-page').style.display = 'none';
            document.getElementById('start-page').style.display = 'block';
        }
    </script>
</body>
</html>
